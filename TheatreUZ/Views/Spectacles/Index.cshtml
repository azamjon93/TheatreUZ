@model IEnumerable<TheatreUZ.Models.Spectacle>

@{
    ViewBag.Title = "Registered spectacles";
}

@section Scripts
{
    <script src="@Url.Content("~/Scripts/Custom/SpectaclesAdmin.js")"></script>
}

<h2>Registered spectacles</h2>

<p>
    @Html.ActionLink("Add new", "AddSpectacle", null, new { @class = "btn btn-sm btn-success", @style = "display:block;float:right;margin:10px", @datatoggle = "tooltip", @title = "Қаторни ўчириш" })
</p>


<table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Genre.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.TicketsCount)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Cost)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PlayDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.State.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.RegDate)
            </th>
            <th>Actions</th>
        </tr>
    </thead>

    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Genre.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TicketsCount)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Cost)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PlayDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.State.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.RegDate)
                </td>
                <td>
                    @Html.ActionLink("Edit", "EditSpectacle", new { id = item.ID }, new { @class = "btn btn-sm btn-primary" })
                    @Html.ActionLink("Details", "GetSpectacle", new { id = item.ID }, new { @class = "btn btn-sm btn-info" })
                    @Html.ActionLink("Delete", "DeleteSpectacle", new { id = item.ID }, new { @class = "btn btn-sm btn-danger" })
                </td>
            </tr>
        }
    </tbody>
</table>




@*<div id="addSp">
        <form>
            <div class="input-group input-group-sm">
                <select data-bind="options: viewModel.genres, optionsText: 'Name', optionsValue: 'ID', value: 'GenreID', optionsCaption: 'Genre...'" />
                <input data-bind="value: Name" type="text" placeholder="Spectacle name..." class="form-control form-control-sm" required />
                <input data-bind="value: Cost" type="number" placeholder="Ticket's cost..." class="form-control form-control-sm" required />
                <input data-bind="value: PlayDate" type="datetime-local" name="playdate" class="form-control form-control-sm" required />
                <button data-bind="click: addS" class="addBtn">
                    Add
                </button>
            </div>
        </form>
    </div>

    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>Genre</th>
                <th>State</th>
                <th>Name</th>
                <th>Cost</th>
                <th>Play date</th>
                <th>Added date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody data-bind="foreach: viewModel.spectacles">
            <tr>
                <td data-bind="text: Genre.Name"></td>
                <td data-bind="text: State.Name"></td>
                <td data-bind="text: Name"></td>
                <td data-bind="text: Cost"></td>
                <td data-bind="text: PlayDate"></td>
                <td data-bind="text: RegDate"></td>
                <td>
                    <button class="btn btn-sm btn-danger">
                        Delete
                    </button>
                </td>
            </tr>
        </tbody>
    </table>*@
